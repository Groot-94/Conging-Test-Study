```swift
import Foundation

// 점수: +4

func programmers_week2_2(_ s:String) -> Int {
    // 유효한 괄호 조합의 수를 저장할 변수
    var count: Int = 0

    // 입력 문자열을 수정 가능하도록 복사
    var text = s

    // 올바른 괄호 조합을 저장한 배열
    let correctCombination = ["()", "[]", "{}"]

    // 입력 문자열의 길이만큼 반복
    for _ in 0..<s.count {
        // 스택을 초기화
        var stack: [String] = []

        // text 회전
        let lastText = String(text.popLast()!)
        text = lastText + text

        // 현재 회전된 문자열을 추출한 텍스트
        // 해당 텍스트를 가지고 올바른 괄호 조합인지 판단
        var textToExtract = text

        // 문자열 길이만큼 반복
        for _ in 0..<s.count {
            // 문자열의 마지막 문자를 가져옴
            let currentText = String(textToExtract.popLast()!)

            // 스택이 비어있지 않은 경우
            if !stack.isEmpty {
                // 현재 가져온 문자와 스택의 최신 문자와 조합
                let combination = currentText + stack.last!

                // 올바른 괄호 조합인지 판단
                // true라면 현재 가져온 문자 통과 + 스택의 최신 문자 pop
                if correctCombination.contains(combination) {
                    _ = stack.popLast()
                } else {
                    // false라면 현재 문자를 스택에 추가
                    stack.append(currentText)
                }
            } else {
                // 스택이 비어 있으면 현재 문자를 스택에 추가
                stack.append(currentText)
            }
        }

        // 스택이 비어 있으면 올바른 괄호 조합이므로 count 증가
        if stack.isEmpty {
            count += 1
        }
    }

    // 유효한 괄호 조합의 수 반환
    return count
}
```
